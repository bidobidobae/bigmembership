<%= turbo_stream_from "report-list" %>
<div class="w-full max-w-full">
  <%= search_form_for @q, class: "w-full flex bg-white px-2" do |f| %>
    <div class="md:flex md:items-center md:w-2/5">
      <div class="">
        <%= f.label :user, class:"block text-gray-500 font-bold md:text-right mb-1 md:mb-0 pr-4" %>
      </div>
      <div class="">
        <%= f.search_field :name_cont, class: "bg-gray-200 appearance-none border-2 border-gray-200 rounded w-full py-2 px-4 text-gray-700 leading-tight focus:outline-none focus:bg-white focus:border-orange-600" %>  
      </div>
    </div>
      
    <div class="md:flex md:items-center md:w-2/5">
      <div class="">
        <%= f.label :date_gteq, class:"block text-gray-500 font-bold md:text-right mb-1 md:mb-0 pr-4" %>
      </div>
      <div class="">
        <%= f.date_field :created_at_gteq %>
      </div>
    </div>

    <div class="md:flex md:w-1/5 md:items-center">
      <div class="pt-4 w-full">
        <%= f.submit class: 'rounded-lg text-orange-100 mt-3 w-full sm:mt-0 sm:col-start-1 mb-4 bg-orange-600 hover:bg-orange-700 rounded-sm px-4 py-2'%>
      </div>
    </div>
  <% end %>
  
  <table class="w-full mt-2">
    <thead>
      <tr class="bg-orange-600 text-orange-100"> 
        <th class="p-2 md:p-4 rounded-tl-lg"><%= sort_link(@q, :name, default_order: :desc) %></th>
        <th class="p-2 md:p4"><%= sort_link(@q, :created_at, default_order: :desc) do %>Time<% end %></th>
        <th class="p-2 md:p-4"><%= sort_link(@q, :partner, default_order: :desc) do %>Partner<% end %></th>
        <th class="p-2 md:p-4"><%= sort_link(@q, :status, default_order: :desc) do %>Status<% end %></th>
        <th class="p-2 md:p-4"><%= sort_link(@q, :point, default_order: :desc) do %>Point<% end %></th>
        <th class="p-2 md:p-4 rounded-tr-lg">Action</th>
      </tr>
    </thead>
    <tbody id="report-list">
      <% @reports.each do |report| %>
        <%= render "reports/report", report: report %>
      <% end %>
    </tbody>     
  </table> 
</div>


